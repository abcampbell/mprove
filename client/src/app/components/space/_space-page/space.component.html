<div class="space">
  <mat-sidenav-container class="example-container" (backdropClick)="close()">
    <mat-sidenav
      #sidenav
      (keydown.escape)="close()"
      class="mat-sidenav"
      disableClose
    >
      <m-project-select *ngIf="isAuthenticated()"></m-project-select>

      <m-project-setup *ngIf="isAuthenticated()"></m-project-setup>

      <div *ngIf="isAuthenticated()" class="space__mode-wrapper" mat-menu-item>
        <m-nav-dev-prod></m-nav-dev-prod>
      </div>

      <m-nav-blockml *ngIf="isAuthenticated()"></m-nav-blockml>

      <m-nav-models
        *ngIf="isAuthenticated()"
        class="m-nav-models"
      ></m-nav-models>

      <m-nav-dashboards
        *ngIf="isAuthenticated()"
        class="m-nav-dashboards"
      ></m-nav-dashboards>
    </mat-sidenav>

    <mat-sidenav-content>
      <div fxLayout="column" fxFlexFill>
        <mat-toolbar class="space__primary-toolbar space_border_bottom">
          <button
            mat-button
            (click)="sidenav.open()"
            class="mainmenu-btn"
            fxHide.gt-sm
          >
            <mat-icon>menu</mat-icon>
          </button>

          <m-logo></m-logo>

          <div class="topmenu-left">
            <m-nav-blockml
              *ngIf="isAuthenticated()"
              fxHide.lt-md
            ></m-nav-blockml>

            <m-nav-models
              *ngIf="isAuthenticated()"
              class="m-nav-models"
            ></m-nav-models>

            <m-nav-dashboards
              *ngIf="isAuthenticated()"
              class="m-nav-dashboards"
            ></m-nav-dashboards>
          </div>

          <div
            *ngIf="isAuthenticated()"
            class="space__mode-wrapper"
            fxHide.lt-md
          >
            <m-nav-dev-prod></m-nav-dev-prod>
          </div>

          <m-nav-remote-errors class="space__errors"></m-nav-remote-errors>

          <div class="space-toolbar__right">
            <button mat-button (click)="signin()" *ngIf="!isAuthenticated()"
              >Sign In</button
            >

            <button mat-button (click)="register()" *ngIf="!isAuthenticated()"
              >Register</button
            >

            <div
              *ngIf="isAuthenticated()"
              class="header-menu"
              fxLayout="row"
              fxLayoutAlign="end center"
              class="menu"
            >
              <div
                fxLayout="row"
                fxLayoutAlign="end center"
                fxHide.lt-md
                class="project-setup"
              >
                <m-project-setup class="project-selector"></m-project-setup>
              </div>

              <m-project-select
                class="menu__button_hover_primary m-project-select"
              ></m-project-select>

              <m-user class="m-user"></m-user>
            </div>
          </div>
        </mat-toolbar>

        <div fxFlex class="space__scroll-wrap">
          <router-outlet></router-outlet>
        </div>
      </div>
    </mat-sidenav-content>
  </mat-sidenav-container>
</div>

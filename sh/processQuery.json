{
  "info":{
    "type":"request",
    "origin":"server",
    "request_id":"13ec316c-1785-43a0-83e7-46d35b33b81m"
  },
  "payload":{
    "mconfig": {
      "charts": [
        {
          "angle_span": 240,
          "arc_width": 0.25,
          "auto_scale": false,
          "band_color": null,
          "bar_padding": 8,
          "big_segments": 10,
          "card_color": null,
          "chart_id": "5d24c3cee89945d09b5e8c57c71aef39",
          "color_scheme": "cool",
          "description": null,
          "doughnut": false,
          "empty_color": "rgba(0, 0, 0, 0)",
          "explode_slices": false,
          "gradient": false,
          "group_padding": 16,
          "hidden": false,
          "inner_padding": 8,
          "labels": false,
          "legend": false,
          "max": 100,
          "min": 0,
          "multi_field": null,
          "page_size": 5,
          "previous_value_field": null,
          "range_fill_opacity": 0.15,
          "round_domains": false,
          "scheme_type": "ordinal",
          "show_axis": true,
          "show_grid_lines": true,
          "show_x_axis_label": false,
          "show_y_axis_label": false,
          "small_segments": 5,
          "start_angle": -120,
          "text_color": null,
          "tile_height": "300",
          "tile_width": "1\/4",
          "timeline": false,
          "title": "HN - Story Count Story ",
          "tooltip_disabled": false,
          "type": "number_card",
          "units": null,
          "value_field": null,
          "view_height": 200,
          "view_size": "auto",
          "view_width": 600,
          "x_axis": true,
          "x_axis_label": null,
          "x_field": "b.count",
          "y_axis": true,
          "y_axis_label": null,
          "y_field": "b.count",
          "y_fields": []
        }
      ],
      "deleted": false,
      "filters": [],
      "limit": 500,
      "mconfig_id": "3007337614df4b599a626d2f993c4224",
      "model_id": "hn_m1",
      "project_id": "hn",
      "query_id": "a88e54c4f568427cb6c3e38f601af077",
      "repo_id": "prod",
      "select": [
        "b.count"
      ],
      "server_ts": 1,
      "sortings": [
        {
          "desc": true,
          "field_id": "b.count"
        }
      ],
      "sorts": "b.count desc",
      "struct_id": "123",
      "temp": false
    },
    "model_content": "{\"name\":\"hn_m1\",\"path\":\"hn_m1.model\",\"ext\":\".model\",\"model\":\"hn_m1\",\"access_users\":[\"123\",\"456\"],\"sql_always_where\":\"{% apply_filter filt2 %} target2 {% end_apply_filter %}\\nAND\\n{% apply_filter filt3 %} target3 {% end_apply_filter %}\",\"joins\":[{\"from_view\":\"hn_story_words\",\"as\":\"a\",\"from_view_line_num\":11,\"as_line_num\":12,\"view\":{\"name\":\"hn_story_words\",\"path\":\"hn_story_words.view\",\"ext\":\".view\",\"view\":\"hn_story_words\",\"derived_table\":\"SELECT a.id as id,\\n a.word as word,\\n b.ssword as ssword\\nFROM (\\n SELECT id,\\n REGEXP_EXTRACT(LOWER(w),\\\"([a-z]+)\\\") as word\\n FROM `bigquery-public-data.hacker_news.stories`\\n LEFT JOIN UNNEST(SPLIT(title,\\\" \\\")) as w\\n ) as a\\nLEFT JOIN (\\n SELECT lower(word) as ssword\\n , count(distinct corpus) as c\\n FROM `bigquery-public-data.samples.shakespeare`\\n GROUP BY 1\\n ORDER BY 2\\n DESC\\n LIMIT 1000) as b\\nON a.word = b.ssword\",\"permanent\":\"true\",\"fields\":[{\"sql\":\"id\",\"hidden\":\"true\",\"sql_line_num\":25,\"hidden_line_num\":26,\"field_class\":\"dimension\",\"name\":\"id\",\"field_class_line_num\":24,\"name_line_num\":24,\"label\":\"id\",\"label_line_num\":0,\"type\":\"custom\",\"type_line_num\":0,\"result\":\"string\",\"result_line_num\":0,\"sql_real\":\"id\"},{\"sql\":\"word\",\"sql_line_num\":29,\"field_class\":\"dimension\",\"name\":\"word\",\"field_class_line_num\":28,\"name_line_num\":28,\"label\":\"word\",\"label_line_num\":0,\"type\":\"custom\",\"type_line_num\":0,\"result\":\"string\",\"result_line_num\":0,\"sql_real\":\"word\"},{\"label\":\"Is Common Word\",\"type\":\"yesno_is_true\",\"sql\":\"CASE\\n WHEN (ssword IS NOT NULL) IS TRUE THEN 'Yes'\\n ELSE 'No'\\n END\",\"label_line_num\":32,\"type_line_num\":33,\"sql_line_num\":34,\"field_class\":\"dimension\",\"name\":\"is_common_word\",\"field_class_line_num\":31,\"name_line_num\":31,\"result\":\"yesno\",\"result_line_num\":0,\"sql_real\":\"CASE\\n WHEN (ssword IS NOT NULL) IS TRUE THEN 'Yes'\\n ELSE 'No'\\n END\"}],\"view_line_num\":1,\"derived_table_line_num\":2,\"permanent_line_num\":21,\"fields_line_num\":23,\"file\":\"hn_story_words.view\",\"label\":\"hn_story_words\",\"label_line_num\":0,\"fields_deps\":{\"id\":{},\"word\":{},\"is_common_word\":{}},\"fields_deps_after_singles\":{\"id\":{},\"word\":{},\"is_common_word\":{}},\"filters\":{}},\"label\":\"hn_story_words\",\"label_line_num\":0},{\"join_view\":\"hn_stories\",\"as\":\"b\",\"hidden\":\"true\",\"sql_on\":\"${a.id} = ${b.id}\",\"type\":\"left_outer\",\"join_view_line_num\":14,\"as_line_num\":15,\"hidden_line_num\":16,\"sql_on_line_num\":17,\"type_line_num\":18,\"view\":{\"name\":\"hn_stories\",\"path\":\"hn_stories.view\",\"ext\":\".view\",\"view\":\"hn_stories\",\"table\":\"`bigquery-public-data.hacker_news.stories`\",\"fields\":[{\"result\":\"number\",\"sql\":\"id\",\"result_line_num\":6,\"sql_line_num\":7,\"field_class\":\"dimension\",\"name\":\"id\",\"field_class_line_num\":5,\"name_line_num\":5,\"label\":\"id\",\"label_line_num\":0,\"type\":\"custom\",\"type_line_num\":0,\"sql_real\":\"id\"},{\"type\":\"count_distinct\",\"sql\":\"${id}\",\"type_line_num\":10,\"sql_line_num\":11,\"field_class\":\"measure\",\"name\":\"count\",\"field_class_line_num\":9,\"name_line_num\":9,\"label\":\"count\",\"label_line_num\":0,\"result\":\"number\",\"result_line_num\":0,\"sql_real\":\"${id}\"},{\"type\":\"yesno_is_true\",\"sql\":\"CASE\\n WHEN (${score} >= 7) IS TRUE THEN 'Yes'\\n ELSE 'No'\\n END\",\"type_line_num\":18,\"sql_line_num\":19,\"field_class\":\"dimension\",\"name\":\"score_7_plus\",\"field_class_line_num\":17,\"name_line_num\":17,\"label\":\"score_7_plus\",\"label_line_num\":0,\"result\":\"yesno\",\"result_line_num\":0,\"sql_real\":\"CASE\\n WHEN ((score) >= 7) IS TRUE THEN 'Yes'\\n ELSE 'No'\\n END\"},{\"sql\":\"CASE WHEN ${score} >= 7 THEN ${id} ELSE NULL END\",\"sql_line_num\":22,\"field_class\":\"dimension\",\"name\":\"score_7_plus_id\",\"field_class_line_num\":21,\"name_line_num\":21,\"label\":\"score_7_plus_id\",\"label_line_num\":0,\"type\":\"custom\",\"type_line_num\":0,\"result\":\"string\",\"result_line_num\":0,\"sql_real\":\"CASE WHEN (score) >= 7 THEN (id) ELSE NULL END\"},{\"type\":\"count_distinct\",\"sql\":\"${score_7_plus_id}\",\"type_line_num\":25,\"sql_line_num\":26,\"field_class\":\"measure\",\"name\":\"count_score_7_plus\",\"field_class_line_num\":24,\"name_line_num\":24,\"label\":\"count_score_7_plus\",\"label_line_num\":0,\"result\":\"number\",\"result_line_num\":0,\"sql_real\":\"${score_7_plus_id}\"},{\"result\":\"number\",\"sql\":\"100.0 * ${count_score_7_plus} / ${count}\",\"result_line_num\":29,\"sql_line_num\":30,\"field_class\":\"calculation\",\"name\":\"percent_7_plus\",\"field_class_line_num\":28,\"name_line_num\":28,\"label\":\"percent_7_plus\",\"label_line_num\":0,\"prep_force_dims\":{},\"sql_real\":\"100.0 * ${count_score_7_plus} / ${count}\",\"force_dims\":{}},{\"result\":\"number\",\"sql\":\"score\",\"result_line_num\":34,\"sql_line_num\":35,\"field_class\":\"dimension\",\"name\":\"score\",\"field_class_line_num\":33,\"name_line_num\":33,\"label\":\"score\",\"label_line_num\":0,\"type\":\"custom\",\"type_line_num\":0,\"sql_real\":\"score\"},{\"result\":\"number\",\"sql\":\"time\",\"result_line_num\":38,\"sql_line_num\":39,\"field_class\":\"dimension\",\"name\":\"time\",\"field_class_line_num\":37,\"name_line_num\":37,\"label\":\"time\",\"label_line_num\":0,\"type\":\"custom\",\"type_line_num\":0,\"sql_real\":\"time\"},{\"field_class\":\"dimension\",\"field_class_line_num\":0,\"hidden\":\"true\",\"hidden_line_num\":0,\"type\":\"custom\",\"type_line_num\":0,\"name\":\"post___date\",\"name_line_num\":0,\"label\":\"Date\",\"label_line_num\":0,\"group_id\":\"post\",\"group_label\":\"post Time\",\"group_label_line_num\":0,\"sql_timestamp\":\"mprovetimestampstarttime_tsmprovetimestampend\",\"sql_timestamp_name\":\"post___timestamp\",\"sql_timestamp_real\":\"mprovetimestampstarttime_tsmprovetimestampend\",\"sql\":\"CAST(mprovetimestampstarttime_tsmprovetimestampend AS DATE)\",\"sql_line_num\":43,\"sql_real\":\"CAST(mprovetimestampstarttime_tsmprovetimestampend AS DATE)\",\"result\":\"ts\",\"result_line_num\":0,\"unnest_line_num\":0},{\"field_class\":\"dimension\",\"field_class_line_num\":0,\"hidden\":\"true\",\"hidden_line_num\":0,\"type\":\"custom\",\"type_line_num\":0,\"name\":\"post___hour\",\"name_line_num\":0,\"label\":\"Hour\",\"label_line_num\":0,\"group_id\":\"post\",\"group_label\":\"post Time\",\"group_label_line_num\":0,\"sql_timestamp\":\"mprovetimestampstarttime_tsmprovetimestampend\",\"sql_timestamp_name\":\"post___timestamp\",\"sql_timestamp_real\":\"mprovetimestampstarttime_tsmprovetimestampend\",\"sql\":\"FORMAT_TIMESTAMP('%F %H', mprovetimestampstarttime_tsmprovetimestampend)\",\"sql_line_num\":43,\"sql_real\":\"FORMAT_TIMESTAMP('%F %H', mprovetimestampstarttime_tsmprovetimestampend)\",\"result\":\"ts\",\"result_line_num\":0,\"unnest_line_num\":0},{\"field_class\":\"dimension\",\"field_class_line_num\":0,\"hidden\":\"true\",\"hidden_line_num\":0,\"type\":\"custom\",\"type_line_num\":0,\"name\":\"post___hour2\",\"name_line_num\":0,\"label\":\"hour2\",\"label_line_num\":0,\"group_id\":\"post\",\"group_label\":\"post Time\",\"group_label_line_num\":0,\"sql_timestamp\":\"mprovetimestampstarttime_tsmprovetimestampend\",\"sql_timestamp_name\":\"post___timestamp\",\"sql_timestamp_real\":\"mprovetimestampstarttime_tsmprovetimestampend\",\"sql\":\"FORMAT_TIMESTAMP('%F %H', TIMESTAMP_TRUNC(TIMESTAMP_ADD(mprovetimestampstarttime_tsmprovetimestampend, INTERVAL MOD(-1 * EXTRACT(HOUR FROM mprovetimestampstarttime_tsmprovetimestampend), 2) HOUR), HOUR))\",\"sql_line_num\":43,\"sql_real\":\"FORMAT_TIMESTAMP('%F %H', TIMESTAMP_TRUNC(TIMESTAMP_ADD(mprovetimestampstarttime_tsmprovetimestampend, INTERVAL MOD(-1 * EXTRACT(HOUR FROM mprovetimestampstarttime_tsmprovetimestampend), 2) HOUR), HOUR))\",\"result\":\"ts\",\"result_line_num\":0,\"unnest_line_num\":0},{\"field_class\":\"dimension\",\"field_class_line_num\":0,\"hidden\":\"true\",\"hidden_line_num\":0,\"type\":\"custom\",\"type_line_num\":0,\"name\":\"post___minute\",\"name_line_num\":0,\"label\":\"Minute\",\"label_line_num\":0,\"group_id\":\"post\",\"group_label\":\"post Time\",\"group_label_line_num\":0,\"sql_timestamp\":\"mprovetimestampstarttime_tsmprovetimestampend\",\"sql_timestamp_name\":\"post___timestamp\",\"sql_timestamp_real\":\"mprovetimestampstarttime_tsmprovetimestampend\",\"sql\":\"FORMAT_TIMESTAMP('%F %H:%M', mprovetimestampstarttime_tsmprovetimestampend)\",\"sql_line_num\":43,\"sql_real\":\"FORMAT_TIMESTAMP('%F %H:%M', mprovetimestampstarttime_tsmprovetimestampend)\",\"result\":\"ts\",\"result_line_num\":0,\"unnest_line_num\":0},{\"field_class\":\"dimension\",\"field_class_line_num\":0,\"hidden\":\"true\",\"hidden_line_num\":0,\"type\":\"custom\",\"type_line_num\":0,\"name\":\"post___minute10\",\"name_line_num\":0,\"label\":\"minute10\",\"label_line_num\":0,\"group_id\":\"post\",\"group_label\":\"post Time\",\"group_label_line_num\":0,\"sql_timestamp\":\"mprovetimestampstarttime_tsmprovetimestampend\",\"sql_timestamp_name\":\"post___timestamp\",\"sql_timestamp_real\":\"mprovetimestampstarttime_tsmprovetimestampend\",\"sql\":\"FORMAT_TIMESTAMP('%F %H:%M', TIMESTAMP_TRUNC(TIMESTAMP_SECONDS((UNIX_SECONDS(mprovetimestampstarttime_tsmprovetimestampend) - MOD(UNIX_SECONDS(mprovetimestampstarttime_tsmprovetimestampend), (60*10)))), MINUTE))\",\"sql_line_num\":43,\"sql_real\":\"FORMAT_TIMESTAMP('%F %H:%M', TIMESTAMP_TRUNC(TIMESTAMP_SECONDS((UNIX_SECONDS(mprovetimestampstarttime_tsmprovetimestampend) - MOD(UNIX_SECONDS(mprovetimestampstarttime_tsmprovetimestampend), (60*10)))), MINUTE))\",\"result\":\"ts\",\"result_line_num\":0,\"unnest_line_num\":0},{\"field_class\":\"dimension\",\"field_class_line_num\":0,\"hidden\":\"true\",\"hidden_line_num\":0,\"type\":\"custom\",\"type_line_num\":0,\"name\":\"post___month\",\"name_line_num\":0,\"label\":\"Month\",\"label_line_num\":0,\"group_id\":\"post\",\"group_label\":\"post Time\",\"group_label_line_num\":0,\"sql_timestamp\":\"mprovetimestampstarttime_tsmprovetimestampend\",\"sql_timestamp_name\":\"post___timestamp\",\"sql_timestamp_real\":\"mprovetimestampstarttime_tsmprovetimestampend\",\"sql\":\"FORMAT_TIMESTAMP('%Y-%m', mprovetimestampstarttime_tsmprovetimestampend)\",\"sql_line_num\":43,\"sql_real\":\"FORMAT_TIMESTAMP('%Y-%m', mprovetimestampstarttime_tsmprovetimestampend)\",\"result\":\"ts\",\"result_line_num\":0,\"unnest_line_num\":0},{\"field_class\":\"dimension\",\"field_class_line_num\":0,\"hidden\":\"true\",\"hidden_line_num\":0,\"type\":\"custom\",\"type_line_num\":0,\"name\":\"post___quarter\",\"name_line_num\":0,\"label\":\"Quarter\",\"label_line_num\":0,\"group_id\":\"post\",\"group_label\":\"post Time\",\"group_label_line_num\":0,\"sql_timestamp\":\"mprovetimestampstarttime_tsmprovetimestampend\",\"sql_timestamp_name\":\"post___timestamp\",\"sql_timestamp_real\":\"mprovetimestampstarttime_tsmprovetimestampend\",\"sql\":\"FORMAT_TIMESTAMP('%Y-%m', TIMESTAMP_TRUNC(CAST(mprovetimestampstarttime_tsmprovetimestampend AS TIMESTAMP), QUARTER))\",\"sql_line_num\":43,\"sql_real\":\"FORMAT_TIMESTAMP('%Y-%m', TIMESTAMP_TRUNC(CAST(mprovetimestampstarttime_tsmprovetimestampend AS TIMESTAMP), QUARTER))\",\"result\":\"ts\",\"result_line_num\":0,\"unnest_line_num\":0},{\"field_class\":\"dimension\",\"field_class_line_num\":0,\"hidden\":\"true\",\"hidden_line_num\":0,\"type\":\"custom\",\"type_line_num\":0,\"name\":\"post___time\",\"name_line_num\":0,\"label\":\"Time\",\"label_line_num\":0,\"group_id\":\"post\",\"group_label\":\"post Time\",\"group_label_line_num\":0,\"sql_timestamp\":\"mprovetimestampstarttime_tsmprovetimestampend\",\"sql_timestamp_name\":\"post___timestamp\",\"sql_timestamp_real\":\"mprovetimestampstarttime_tsmprovetimestampend\",\"sql\":\"FORMAT_TIMESTAMP('%F %T', mprovetimestampstarttime_tsmprovetimestampend)\",\"sql_line_num\":43,\"sql_real\":\"FORMAT_TIMESTAMP('%F %T', mprovetimestampstarttime_tsmprovetimestampend)\",\"result\":\"ts\",\"result_line_num\":0,\"unnest_line_num\":0},{\"field_class\":\"dimension\",\"field_class_line_num\":0,\"hidden\":\"true\",\"hidden_line_num\":0,\"type\":\"custom\",\"type_line_num\":0,\"name\":\"post___week\",\"name_line_num\":0,\"label\":\"Week\",\"label_line_num\":0,\"group_id\":\"post\",\"group_label\":\"post Time\",\"group_label_line_num\":0,\"sql_timestamp\":\"mprovetimestampstarttime_tsmprovetimestampend\",\"sql_timestamp_name\":\"post___timestamp\",\"sql_timestamp_real\":\"mprovetimestampstarttime_tsmprovetimestampend\",\"sql\":\"CASE\\n WHEN EXTRACT(DAYOFYEAR FROM mprovetimestampstarttime_tsmprovetimestampend) >= (CASE WHEN EXTRACT(DAYOFWEEK FROM mprovetimestampstarttime_tsmprovetimestampend) = 1 THEN 7 ELSE EXTRACT(DAYOFWEEK FROM mprovetimestampstarttime_tsmprovetimestampend) - 1 END) THEN DATE_ADD(CAST(TIMESTAMP_TRUNC(CAST(mprovetimestampstarttime_tsmprovetimestampend AS TIMESTAMP), WEEK) AS DATE), INTERVAL 1 DAY)\\n ELSE DATE_ADD(CAST(mprovetimestampstarttime_tsmprovetimestampend AS DATE), INTERVAL -EXTRACT(DAYOFYEAR FROM mprovetimestampstarttime_tsmprovetimestampend) + 1 DAY)\\n END\",\"sql_line_num\":43,\"sql_real\":\"CASE\\n WHEN EXTRACT(DAYOFYEAR FROM mprovetimestampstarttime_tsmprovetimestampend) >= (CASE WHEN EXTRACT(DAYOFWEEK FROM mprovetimestampstarttime_tsmprovetimestampend) = 1 THEN 7 ELSE EXTRACT(DAYOFWEEK FROM mprovetimestampstarttime_tsmprovetimestampend) - 1 END) THEN DATE_ADD(CAST(TIMESTAMP_TRUNC(CAST(mprovetimestampstarttime_tsmprovetimestampend AS TIMESTAMP), WEEK) AS DATE), INTERVAL 1 DAY)\\n ELSE DATE_ADD(CAST(mprovetimestampstarttime_tsmprovetimestampend AS DATE), INTERVAL -EXTRACT(DAYOFYEAR FROM mprovetimestampstarttime_tsmprovetimestampend) + 1 DAY)\\n END\",\"result\":\"ts\",\"result_line_num\":0,\"unnest_line_num\":0},{\"field_class\":\"dimension\",\"field_class_line_num\":0,\"hidden\":\"true\",\"hidden_line_num\":0,\"type\":\"custom\",\"type_line_num\":0,\"name\":\"post___year\",\"name_line_num\":0,\"label\":\"Year\",\"label_line_num\":0,\"group_id\":\"post\",\"group_label\":\"post Time\",\"group_label_line_num\":0,\"sql_timestamp\":\"mprovetimestampstarttime_tsmprovetimestampend\",\"sql_timestamp_name\":\"post___timestamp\",\"sql_timestamp_real\":\"mprovetimestampstarttime_tsmprovetimestampend\",\"sql\":\"EXTRACT(YEAR FROM mprovetimestampstarttime_tsmprovetimestampend)\",\"sql_line_num\":43,\"sql_real\":\"EXTRACT(YEAR FROM mprovetimestampstarttime_tsmprovetimestampend)\",\"result\":\"ts\",\"result_line_num\":0,\"unnest_line_num\":0},{\"result\":\"string\",\"sql\":\"title\",\"result_line_num\":57,\"sql_line_num\":58,\"field_class\":\"dimension\",\"name\":\"title\",\"field_class_line_num\":56,\"name_line_num\":56,\"label\":\"title\",\"label_line_num\":0,\"type\":\"custom\",\"type_line_num\":0,\"sql_real\":\"title\"},{\"result\":\"string\",\"result_line_num\":61,\"field_class\":\"filter\",\"name\":\"filt1\",\"field_class_line_num\":60,\"name_line_num\":60,\"sql\":\"\",\"sql_line_num\":0,\"label\":\"filt1\",\"label_line_num\":0,\"prep_force_dims\":{},\"sql_real\":\"\"},{\"sql\":\"SPLIT(${title})\",\"sql_line_num\":64,\"field_class\":\"dimension\",\"name\":\"title_word\",\"field_class_line_num\":63,\"name_line_num\":63,\"label\":\"title_word\",\"label_line_num\":0,\"type\":\"custom\",\"type_line_num\":0,\"result\":\"string\",\"result_line_num\":0,\"sql_real\":\"SPLIT((title))\"},{\"result\":\"string\",\"sql\":\"url\",\"result_line_num\":67,\"sql_line_num\":68,\"field_class\":\"dimension\",\"name\":\"url\",\"field_class_line_num\":66,\"name_line_num\":66,\"label\":\"url\",\"label_line_num\":0,\"type\":\"custom\",\"type_line_num\":0,\"sql_real\":\"url\"},{\"type\":\"count_distinct\",\"sql\":\"${url}\",\"type_line_num\":71,\"sql_line_num\":72,\"field_class\":\"measure\",\"name\":\"count_url\",\"field_class_line_num\":70,\"name_line_num\":70,\"label\":\"count_url\",\"label_line_num\":0,\"result\":\"number\",\"result_line_num\":0,\"sql_real\":\"${url}\"},{\"sql\":\"REGEXP_EXTRACT(${url},'http://([^/]+)/')\",\"sql_line_num\":75,\"field_class\":\"dimension\",\"name\":\"url_host\",\"field_class_line_num\":74,\"name_line_num\":74,\"label\":\"url_host\",\"label_line_num\":0,\"type\":\"custom\",\"type_line_num\":0,\"result\":\"string\",\"result_line_num\":0,\"sql_real\":\"REGEXP_EXTRACT((url),'http://([^/]+)/')\"},{\"type\":\"count_distinct\",\"sql\":\"${url_host}\",\"type_line_num\":78,\"sql_line_num\":79,\"field_class\":\"measure\",\"name\":\"count_url_host\",\"field_class_line_num\":77,\"name_line_num\":77,\"label\":\"count_url_host\",\"label_line_num\":0,\"result\":\"number\",\"result_line_num\":0,\"sql_real\":\"${url_host}\"},{\"sql\":\"REGEXP_EXTRACT(${url_host},'([^\\\\\\\\.]+\\\\\\\\.[^\\\\\\\\.]+(?:\\\\\\\\.[a-zA-Z].)?)$')\",\"sql_line_num\":82,\"field_class\":\"dimension\",\"name\":\"url_domain\",\"field_class_line_num\":81,\"name_line_num\":81,\"label\":\"url_domain\",\"label_line_num\":0,\"type\":\"custom\",\"type_line_num\":0,\"result\":\"string\",\"result_line_num\":0,\"sql_real\":\"REGEXP_EXTRACT((REGEXP_EXTRACT((url),'http://([^/]+)/')),'([^\\\\\\\\.]+\\\\\\\\.[^\\\\\\\\.]+(?:\\\\\\\\.[a-zA-Z].)?)$')\"},{\"sql\":\"${url_domain}\",\"sql_line_num\":85,\"field_class\":\"dimension\",\"name\":\"domain_logo\",\"field_class_line_num\":84,\"name_line_num\":84,\"label\":\"domain_logo\",\"label_line_num\":0,\"type\":\"custom\",\"type_line_num\":0,\"result\":\"string\",\"result_line_num\":0,\"sql_real\":\"(REGEXP_EXTRACT((REGEXP_EXTRACT((url),'http://([^/]+)/')),'([^\\\\\\\\.]+\\\\\\\\.[^\\\\\\\\.]+(?:\\\\\\\\.[a-zA-Z].)?)))\"},{\"type\":\"count_distinct\",\"sql\":\"${url_domain}\",\"type_line_num\":88,\"sql_line_num\":89,\"field_class\":\"measure\",\"name\":\"count_url_domain\",\"field_class_line_num\":87,\"name_line_num\":87,\"label\":\"count_url_domain\",\"label_line_num\":0,\"result\":\"number\",\"result_line_num\":0,\"sql_real\":\"${url_domain}\"},{\"result\":\"string\",\"sql\":\"text\",\"result_line_num\":92,\"sql_line_num\":93,\"field_class\":\"dimension\",\"name\":\"text\",\"field_class_line_num\":91,\"name_line_num\":91,\"label\":\"text\",\"label_line_num\":0,\"type\":\"custom\",\"type_line_num\":0,\"sql_real\":\"text\"},{\"type\":\"yesno_is_true\",\"sql\":\"CASE\\n WHEN (deleted) IS TRUE THEN 'Yes'\\n ELSE 'No'\\n END\",\"type_line_num\":96,\"sql_line_num\":97,\"field_class\":\"dimension\",\"name\":\"deleted\",\"field_class_line_num\":95,\"name_line_num\":95,\"label\":\"deleted\",\"label_line_num\":0,\"result\":\"yesno\",\"result_line_num\":0,\"sql_real\":\"CASE\\n WHEN (deleted) IS TRUE THEN 'Yes'\\n ELSE 'No'\\n END\"},{\"type\":\"yesno_is_true\",\"sql\":\"CASE\\n WHEN (dead) IS TRUE THEN 'Yes'\\n ELSE 'No'\\n END\",\"type_line_num\":100,\"sql_line_num\":101,\"field_class\":\"dimension\",\"name\":\"dead\",\"field_class_line_num\":99,\"name_line_num\":99,\"label\":\"dead\",\"label_line_num\":0,\"result\":\"yesno\",\"result_line_num\":0,\"sql_real\":\"CASE\\n WHEN (dead) IS TRUE THEN 'Yes'\\n ELSE 'No'\\n END\"},{\"result\":\"number\",\"sql\":\"descendants\",\"result_line_num\":104,\"sql_line_num\":105,\"field_class\":\"dimension\",\"name\":\"descendants\",\"field_class_line_num\":103,\"name_line_num\":103,\"label\":\"descendants\",\"label_line_num\":0,\"type\":\"custom\",\"type_line_num\":0,\"sql_real\":\"descendants\"},{\"result\":\"string\",\"sql\":\"author\",\"result_line_num\":108,\"sql_line_num\":109,\"field_class\":\"dimension\",\"name\":\"author\",\"field_class_line_num\":107,\"name_line_num\":107,\"label\":\"author\",\"label_line_num\":0,\"type\":\"custom\",\"type_line_num\":0,\"sql_real\":\"author\"},{\"type\":\"list\",\"sql\":\"${author}\",\"type_line_num\":112,\"sql_line_num\":113,\"field_class\":\"measure\",\"name\":\"author_list\",\"field_class_line_num\":111,\"name_line_num\":111,\"label\":\"author_list\",\"label_line_num\":0,\"result\":\"string\",\"result_line_num\":0,\"sql_real\":\"${author}\"},{\"type\":\"count_distinct\",\"sql\":\"${author}\",\"type_line_num\":116,\"sql_line_num\":117,\"field_class\":\"measure\",\"name\":\"count_authors\",\"field_class_line_num\":115,\"name_line_num\":115,\"label\":\"count_authors\",\"label_line_num\":0,\"result\":\"number\",\"result_line_num\":0,\"sql_real\":\"${author}\"},{\"type\":\"average_by_key\",\"sql_key\":\"${id}\",\"sql\":\"${score}\",\"type_line_num\":120,\"sql_key_line_num\":121,\"sql_line_num\":122,\"field_class\":\"measure\",\"name\":\"average_by_key_score\",\"field_class_line_num\":119,\"name_line_num\":119,\"label\":\"average_by_key_score\",\"label_line_num\":0,\"result\":\"number\",\"result_line_num\":0,\"sql_real\":\"${score}\",\"sql_key_real\":\"${id}\"},{\"type\":\"percentile_by_key\",\"sql_key\":\"${id}\",\"sql\":\"${score}\",\"percentile\":\"5\",\"type_line_num\":125,\"sql_key_line_num\":126,\"sql_line_num\":127,\"percentile_line_num\":128,\"field_class\":\"measure\",\"name\":\"percentile_by_key_score\",\"field_class_line_num\":124,\"name_line_num\":124,\"label\":\"percentile_by_key_score\",\"label_line_num\":0,\"result\":\"number\",\"result_line_num\":0,\"sql_real\":\"${score}\",\"sql_key_real\":\"${id}\"}],\"view_line_num\":1,\"table_line_num\":2,\"fields_line_num\":4,\"file\":\"hn_stories.view\",\"label\":\"hn_stories\",\"label_line_num\":0,\"fields_deps\":{\"id\":{},\"count\":{\"id\":11},\"score_7_plus\":{\"score\":19},\"score_7_plus_id\":{\"score\":22,\"id\":22},\"count_score_7_plus\":{\"score_7_plus_id\":26},\"percent_7_plus\":{\"count_score_7_plus\":30,\"count\":30},\"score\":{},\"time\":{},\"post___date\":{},\"post___hour\":{},\"post___hour2\":{},\"post___minute\":{},\"post___minute10\":{},\"post___month\":{},\"post___quarter\":{},\"post___time\":{},\"post___week\":{},\"post___year\":{},\"title\":{},\"filt1\":{},\"title_word\":{\"title\":64},\"url\":{},\"count_url\":{\"url\":72},\"url_host\":{\"url\":75},\"count_url_host\":{\"url_host\":79},\"url_domain\":{\"url_host\":82},\"domain_logo\":{\"url_domain\":85},\"count_url_domain\":{\"url_domain\":89},\"text\":{},\"deleted\":{},\"dead\":{},\"descendants\":{},\"author\":{},\"author_list\":{\"author\":113},\"count_authors\":{\"author\":117},\"average_by_key_score\":{\"score\":122,\"id\":121},\"percentile_by_key_score\":{\"score\":127,\"id\":126}},\"fields_deps_after_singles\":{\"id\":{},\"count\":{\"id\":11},\"score_7_plus\":{},\"score_7_plus_id\":{},\"count_score_7_plus\":{\"score_7_plus_id\":26},\"percent_7_plus\":{\"count_score_7_plus\":30,\"count\":30},\"score\":{},\"time\":{},\"post___date\":{},\"post___hour\":{},\"post___hour2\":{},\"post___minute\":{},\"post___minute10\":{},\"post___month\":{},\"post___quarter\":{},\"post___time\":{},\"post___week\":{},\"post___year\":{},\"title\":{},\"filt1\":{},\"title_word\":{},\"url\":{},\"count_url\":{\"url\":72},\"url_host\":{},\"count_url_host\":{\"url_host\":79},\"url_domain\":{},\"domain_logo\":{},\"count_url_domain\":{\"url_domain\":89},\"text\":{},\"deleted\":{},\"dead\":{},\"descendants\":{},\"author\":{},\"author_list\":{\"author\":113},\"count_authors\":{\"author\":117},\"average_by_key_score\":{\"score\":122,\"id\":121},\"percentile_by_key_score\":{\"score\":127,\"id\":126}},\"filters\":{\"filt1\":[]}},\"label\":\"hn_stories\",\"label_line_num\":0,\"sql_on_real\":\"${a.id} = ${b.id}\",\"sql_where_double_deps\":{}},{\"join_view\":\"hn_daily_rank\",\"as\":\"c\",\"sql_on\":\"${a.id} = ${c.id}\",\"type\":\"left_outer\",\"join_view_line_num\":20,\"as_line_num\":21,\"sql_on_line_num\":22,\"type_line_num\":23,\"view\":{\"name\":\"hn_daily_rank\",\"path\":\"hn_daily_rank.view\",\"ext\":\".view\",\"view\":\"hn_daily_rank\",\"derived_table\":\"SELECT\\n id\\n , RANK() OVER (PARTITION BY post_date ORDER BY score DESC) as daily_rank\\nFROM (\\n SELECT\\n id\\n , DATE(time_ts) as post_date\\n , score\\n FROM `bigquery-public-data.hacker_news.stories`\\n WHERE score > 0)\",\"permanent\":\"true\",\"udfs\":[\"multiply_inputs\"],\"fields\":[{\"sql\":\"id\",\"hidden\":\"true\",\"sql_line_num\":18,\"hidden_line_num\":19,\"field_class\":\"dimension\",\"name\":\"id\",\"field_class_line_num\":17,\"name_line_num\":17,\"label\":\"id\",\"label_line_num\":0,\"type\":\"custom\",\"type_line_num\":0,\"result\":\"string\",\"result_line_num\":0,\"sql_real\":\"id\"},{\"sql\":\"daily_rank\",\"result\":\"number\",\"sql_line_num\":22,\"result_line_num\":23,\"field_class\":\"dimension\",\"name\":\"daily_rank\",\"field_class_line_num\":21,\"name_line_num\":21,\"label\":\"daily_rank\",\"label_line_num\":0,\"type\":\"custom\",\"type_line_num\":0,\"sql_real\":\"daily_rank\"}],\"view_line_num\":1,\"derived_table_line_num\":2,\"permanent_line_num\":13,\"udfs_line_num\":14,\"fields_line_num\":16,\"file\":\"hn_daily_rank.view\",\"label\":\"hn_daily_rank\",\"label_line_num\":0,\"fields_deps\":{\"id\":{},\"daily_rank\":{}},\"fields_deps_after_singles\":{\"id\":{},\"daily_rank\":{}},\"filters\":{}},\"label\":\"hn_daily_rank\",\"label_line_num\":0,\"sql_on_real\":\"${a.id} = ${c.id}\",\"sql_where_double_deps\":{}}],\"fields\":[{\"result\":\"string\",\"result_line_num\":28,\"field_class\":\"filter\",\"name\":\"filt2\",\"field_class_line_num\":27,\"name_line_num\":27,\"sql\":\"\",\"sql_line_num\":0,\"label\":\"filt2\",\"label_line_num\":0,\"prep_force_dims\":{},\"sql_real\":\"\"},{\"result\":\"number\",\"result_line_num\":31,\"field_class\":\"filter\",\"name\":\"filt3\",\"field_class_line_num\":30,\"name_line_num\":30,\"sql\":\"\",\"sql_line_num\":0,\"label\":\"filt3\",\"label_line_num\":0,\"prep_force_dims\":{},\"sql_real\":\"\"},{\"type\":\"yesno_is_true\",\"sql\":\"CASE\\n WHEN (${c.daily_rank} <= 25) IS TRUE THEN 'Yes'\\n ELSE 'No'\\n END\",\"type_line_num\":34,\"sql_line_num\":35,\"field_class\":\"dimension\",\"name\":\"rank_25_or_less\",\"field_class_line_num\":33,\"name_line_num\":33,\"label\":\"rank_25_or_less\",\"label_line_num\":0,\"result\":\"yesno\",\"result_line_num\":0,\"sql_real\":\"CASE\\n WHEN (${c.daily_rank} <= 25) IS TRUE THEN 'Yes'\\n ELSE 'No'\\n END\"},{\"type\":\"count_distinct\",\"sql\":\"CASE WHEN ${c.daily_rank} <= 25 THEN ${b.id} ELSE NULL END\",\"type_line_num\":38,\"sql_line_num\":39,\"field_class\":\"measure\",\"name\":\"count_rank_25_or_less\",\"field_class_line_num\":37,\"name_line_num\":37,\"label\":\"count_rank_25_or_less\",\"label_line_num\":0,\"result\":\"number\",\"result_line_num\":0,\"sql_real\":\"CASE WHEN ${c.daily_rank} <= 25 THEN ${b.id} ELSE NULL END\"},{\"result\":\"number\",\"sql\":\"100.0 * ${count_rank_25_or_less} / ${b.count}\",\"result_line_num\":42,\"sql_line_num\":43,\"field_class\":\"calculation\",\"name\":\"percent_rank_25_or_less\",\"field_class_line_num\":41,\"name_line_num\":41,\"label\":\"percent_rank_25_or_less\",\"label_line_num\":0,\"prep_force_dims\":{},\"sql_real\":\"100.0 * ${count_rank_25_or_less} / ${b.count}\",\"force_dims\":{}}],\"model_line_num\":1,\"access_users_line_num\":2,\"sql_always_where_line_num\":5,\"joins_line_num\":9,\"fields_line_num\":25,\"file\":\"hn_m1.model\",\"label\":\"hn_m1\",\"label_line_num\":0,\"fields_deps\":{\"filt2\":{},\"filt3\":{},\"rank_25_or_less\":{},\"count_rank_25_or_less\":{},\"percent_rank_25_or_less\":{\"count_rank_25_or_less\":43}},\"fields_deps_after_singles\":{\"filt2\":{},\"filt3\":{},\"rank_25_or_less\":{},\"count_rank_25_or_less\":{},\"percent_rank_25_or_less\":{\"count_rank_25_or_less\":43}},\"from_as\":\"a\",\"fields_double_deps\":{\"filt2\":{},\"filt3\":{},\"rank_25_or_less\":{\"c\":{\"daily_rank\":35}},\"count_rank_25_or_less\":{\"c\":{\"daily_rank\":39},\"b\":{\"id\":39}},\"percent_rank_25_or_less\":{\"b\":{\"count\":43}}},\"fields_double_deps_after_singles\":{\"filt2\":{},\"filt3\":{},\"rank_25_or_less\":{\"c\":{\"daily_rank\":35}},\"count_rank_25_or_less\":{\"c\":{\"daily_rank\":39},\"b\":{\"id\":39}},\"percent_rank_25_or_less\":{\"b\":{\"count\":43}}},\"filters\":{\"filt2\":[],\"filt3\":[]},\"joins_double_deps\":{},\"joins_prepared_deps\":{\"b\":{},\"c\":{}},\"joins_double_deps_after_singles\":{\"b\":{\"a\":{\"id\":1},\"b\":{\"id\":1}},\"c\":{\"a\":{\"id\":1},\"c\":{\"id\":1}}},\"joins_sorted\":[\"a\",\"b\",\"c\"],\"always_join_list\":{},\"sql_always_where_double_deps\":{},\"sql_always_where_real\":\"{% apply_filter filt2 %} target2 {% end_apply_filter %}\\nAND\\n{% apply_filter filt3 %} target3 {% end_apply_filter %}\",\"sql_always_where_double_deps_after_singles\":{},\"sql_always_where_calc_double_deps\":{},\"sql_always_where_calc_force_dims\":{},\"sql_always_where_calc_deps_after_singles\":{},\"sql_always_where_calc_double_deps_after_substitutions\":{}}",
    "bq_project":"flow-1202",
    "project_id":"hn",
    "week_start":"monday",
    "udfs_content":"[{\"name\":\"multiply_inputs\",\"path\":\"multiply_inputs.udf\",\"ext\":\".udf\",\"udf\":\"multiply_inputs\",\"sql\":\"CREATE TEMPORARY FUNCTION multiply_inputs(x FLOAT64, y FLOAT64)\\nRETURNS FLOAT64\\nLANGUAGE js AS \\\"\\\"\\\"\\nreturn x*y;\\n\\\"\\\"\\\";\",\"udf_line_num\":1,\"sql_line_num\":2,\"file\":\"multiply_inputs.udf\"}]",
    "struct_id":"123"
  }
}